package Mutex::Base;

# ------------------------------------------------------------------------------
use Syntax::Keyword::Try;

our $VERSION = 'v1.0';

# ------------------------------------------------------------------------------
sub lock
{
    my ($self) = @_;
    my $error;
    try {
        $self->{mutex}->lock;
    }
    catch ($e) {
        $error = $e;
    }
    return $error;
}

# ------------------------------------------------------------------------------
sub unlock
{
    my ($self) = @_;
    try {
        $self->{mutex}->unlock;
    }
    catch { }
    return $self;
}

# ------------------------------------------------------------------------------
sub DESTROY
{
    my ($self) = @_;
    return $self->unlock;
}

# ------------------------------------------------------------------------------
1;
__END__
